<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel</title>
<link rel="stylesheet" href="style.css">
</head>

<body class="admin">

<h2>Admin Dashboard</h2>
<div id="orders"></div>

<script>
const ordersDiv = document.getElementById("orders");

for (let i = 0; i < localStorage.length; i++) {
    const key = localStorage.key(i);
    if (!key.startsWith("order_")) continue;

    const order = JSON.parse(localStorage.getItem(key));

    const card = document.createElement("div");
    card.className = "admin-card";
    card.innerHTML = `
        <h4>Order #${order.orderNumber}</h4>
        <p><b>Student:</b> ${order.student}</p>
        <p><b>Total:</b> â‚±${order.total}</p>
        <p><b>Status:</b> ${order.status}</p>
        <button onclick="markReady('${key}')">Mark READY</button>
    `;
    ordersDiv.appendChild(card);
}

function markReady(key) {
    const order = JSON.parse(localStorage.getItem(key));
    order.status = "READY";
    localStorage.setItem(key, JSON.stringify(order));
    alert("Order marked READY");
    location.reload();
}
</script>

</body>
</html>
