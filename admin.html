<!DOCTYPE html>
<html>
<head>
    <title>Admin Portal</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <h1>Admin Portal</h1>
</header>

<section class="card">
    <h2>Student Orders</h2>
    <div id="orders"></div>
</section>

<script>
const ordersDiv = document.getElementById("orders");

function loadOrders() {
    ordersDiv.innerHTML = "";

    for (let i = 0; i < localStorage.length; i++) {
        const key = localStorage.key(i);
        if (!key.startsWith("order_")) continue;

        const order = JSON.parse(localStorage.getItem(key));

        const div = document.createElement("div");
        div.className = "order-card";
        div.innerHTML = `
            <h3>Order #${order.orderNumber}</h3>
            <p><b>Student:</b> ${order.student}</p>
            <p><b>Total:</b> â‚±${order.total}</p>
            <p><b>Status:</b> ${order.status}</p>
            <button onclick="markReady('${key}')">Mark Ready</button>
        `;
        ordersDiv.appendChild(div);
    }
}

function markReady(key) {
    const order = JSON.parse(localStorage.getItem(key));
    order.status = "READY";
    localStorage.setItem(key, JSON.stringify(order));
    alert("Order marked READY");
    loadOrders();
}

loadOrders();
</script>

</body>
</html>
